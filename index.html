<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MedLink TX ‚Äì Free Clinics & Mental Health Resources</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #020617;
      --bg-soft: #020617;
      --card: #020617;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.12);
      --accent-strong: #0ea5e9;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --border: #1f2937;
      --danger: #f97373;
      --radius-lg: 18px;
      --radius-pill: 999px;
      --shadow-soft: 0 22px 55px rgba(15, 23, 42, 1);
      --transition: 220ms ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top, #020617 0, #020617 45%, #020617 60%, #020617 75%) fixed,
        radial-gradient(circle at top left, #0f172a 0, #020617 55%) fixed;
      color: var(--text);
      min-height: 100vh;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .page {
      max-width: 1120px;
      margin: 0 auto;
      padding: 20px 16px 72px;
    }

    /* REVEAL ANIMATION */
    .reveal {
      opacity: 0;
      transform: translateY(26px);
      transition: opacity 420ms ease-out, transform 420ms ease-out;
      will-change: opacity, transform;
    }

    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* NAVBAR */
    .nav {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(18px);
      background: linear-gradient(to bottom, rgba(2, 6, 23, 0.96), rgba(2, 6, 23, 0.7), transparent);
      padding-bottom: 10px;
    }

    .nav-inner {
      max-width: 1120px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 16px 6px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-badge {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: radial-gradient(circle at 20% 20%, #38bdf8, #0f172a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 700;
      color: #e0f2fe;
      box-shadow: 0 10px 25px rgba(8, 47, 73, 0.9);
    }

    .logo-text-main {
      font-weight: 600;
      letter-spacing: 0.03em;
      font-size: 15px;
    }

    .logo-text-sub {
      font-size: 11px;
      text-transform: uppercase;
      color: var(--muted);
      letter-spacing: 0.18em;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 13px;
    }

    .nav-pill {
      padding: 5px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.25);
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .nav-cta {
      padding: 6px 16px;
      border-radius: 999px;
      background: linear-gradient(120deg, #0ea5e9, #22c55e);
      color: #0b1120;
      font-weight: 600;
      font-size: 13px;
      border: none;
      cursor: pointer;
      box-shadow: 0 18px 38px rgba(34, 197, 94, 0.5);
      transition: transform var(--transition), box-shadow var(--transition);
    }

    .nav-cta:hover {
      transform: translateY(-1px) translateZ(0);
      box-shadow: 0 24px 60px rgba(34, 197, 94, 0.7);
    }

    /* HERO */
    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 40px;
      margin-top: 26px;
      align-items: center;
    }

    .hero-left {
      padding-right: 12px;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px 4px 4px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(56, 189, 248, 0.4);
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.9);
      margin-bottom: 14px;
    }

    .hero-dot {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #bbf7d0, #22c55e);
      box-shadow: 0 10px 24px rgba(34, 197, 94, 0.8);
    }

    .hero-badge-text {
      font-size: 12px;
      color: var(--muted);
    }

    .hero-title {
      font-size: clamp(32px, 5.2vw, 44px);
      line-height: 1.08;
      font-weight: 700;
      letter-spacing: 0.01em;
      margin-bottom: 12px;
    }

    .hero-title span.highlight {
      background: linear-gradient(120deg, #38bdf8, #22c55e);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-sub {
      font-size: 15px;
      color: var(--muted);
      line-height: 1.6;
      margin-bottom: 20px;
      max-width: 500px;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 14px;
    }

    .btn-primary {
      padding: 10px 20px;
      border-radius: var(--radius-pill);
      border: none;
      background: linear-gradient(120deg, #38bdf8, #0ea5e9);
      color: #0b1120;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 18px 40px rgba(8, 47, 73, 0.9);
      display: inline-flex;
      align-items: center;
      gap: 7px;
      transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
    }

    .btn-primary:hover {
      transform: translateY(-2px) translateZ(0);
      background: linear-gradient(120deg, #0ea5e9, #38bdf8);
      box-shadow: 0 26px 60px rgba(8, 47, 73, 1);
    }

    .btn-secondary {
      padding: 9px 16px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: rgba(15, 23, 42, 0.95);
      color: var(--muted);
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: border-color var(--transition), background var(--transition), transform var(--transition);
    }

    .btn-secondary:hover {
      border-color: rgba(148, 163, 184, 0.8);
      background: rgba(15, 23, 42, 1);
      transform: translateY(-1px) translateZ(0);
    }

    .hero-meta {
      font-size: 11px;
      color: var(--muted);
      margin-top: 4px;
    }

    .hero-right {
      position: relative;
    }

    .hero-card {
      background: radial-gradient(circle at top left, #0f172a, #020617);
      border-radius: 26px;
      padding: 20px 18px 16px;
      border: 1px solid rgba(51, 65, 85, 0.7);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .hero-card-tag {
      font-size: 11px;
      text-transform: uppercase;
      color: var(--muted);
      letter-spacing: 0.18em;
      margin-bottom: 8px;
    }

    .hero-card-title {
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .hero-card-sub {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 12px;
    }

    .hero-pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 12px;
    }

    .pill {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      padding: 4px 10px;
      font-size: 11px;
      color: var(--muted);
      background: rgba(15, 23, 42, 0.9);
    }

    .pill-accent {
      border-color: rgba(56, 189, 248, 0.5);
      color: #e0f2fe;
      background: rgba(8, 47, 73, 0.9);
    }

    .hero-stats {
      display: flex;
      gap: 14px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .stat {
      flex: 1 1 auto;
      min-width: 80px;
    }

    .stat-label {
      font-size: 11px;
      color: var(--muted);
    }

    .stat-value {
      font-size: 16px;
      font-weight: 600;
      margin-top: 2px;
    }

    .glow-orb {
      position: absolute;
      width: 260px;
      height: 260px;
      border-radius: 999px;
      background: radial-gradient(circle, rgba(56, 189, 248, 0.3), transparent);
      filter: blur(20px);
      top: -40px;
      right: -60px;
      opacity: 0.9;
      pointer-events: none;
    }

    /* SECTION WRAPPERS */
    .section {
      margin-top: 56px;
      padding-top: 8px;
    }

    .section-header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 14px;
      align-items: center;
    }

    .section-title {
      font-size: 16px;
      font-weight: 600;
    }

    .section-sub {
      font-size: 12px;
      color: var(--muted);
      max-width: 420px;
      line-height: 1.5;
    }

    /* HOW IT WORKS STRIP */
    .steps-strip {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
      margin-top: 14px;
    }

    .step-card {
      background: rgba(15, 23, 42, 0.96);
      border-radius: 16px;
      padding: 14px 14px 12px;
      border: 1px solid rgba(51, 65, 85, 0.7);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.9);
      font-size: 13px;
    }

    .step-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--muted);
      margin-bottom: 6px;
    }

    .step-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .step-body {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.5;
    }

    /* FILTER BAR */
    .filter-bar {
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.96));
      border-radius: 18px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      padding: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      box-shadow: 0 16px 42px rgba(15, 23, 42, 0.9);
    }

    .filter-label {
      font-size: 12px;
      color: var(--muted);
      margin-right: 4px;
    }

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .filter-button {
      padding: 6px 11px;
      font-size: 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.98);
      color: var(--muted);
      cursor: pointer;
      transition: background var(--transition), border-color var(--transition), color var(--transition), transform var(--transition);
    }

    .filter-button:hover {
      border-color: var(--accent);
      transform: translateY(-0.5px) translateZ(0);
    }

    .filter-button.active {
      background: var(--accent-soft);
      border-color: var(--accent);
      color: #e0f2fe;
    }

    .search-input {
      flex: 1;
      min-width: 160px;
      display: flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      padding: 7px 11px;
      background: #020617;
    }

    .search-input input {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      color: var(--text);
      font-size: 12px;
    }

    .search-input span {
      font-size: 11px;
      color: var(--muted);
    }

    /* GRID */
    .grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 18px;
      margin-top: 18px;
    }

    .card {
      background: rgba(15, 23, 42, 0.98);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(30, 64, 175, 0.7);
      padding: 14px 14px 12px;
      box-shadow: 0 18px 46px rgba(15, 23, 42, 0.98);
      position: relative;
      overflow: hidden;
      transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition), background var(--transition);
      transform: translateZ(0);
    }

    .card:hover {
      transform: translateY(-4px) translateZ(0);
      box-shadow: 0 26px 70px rgba(15, 23, 42, 1);
      border-color: rgba(56, 189, 248, 0.7);
      background: radial-gradient(circle at top, #020617, #020617 40%, #020617 80%, #020617 100%);
    }

    .card-type-pill {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.13em;
      color: #bae6fd;
      background: rgba(8, 47, 73, 0.9);
      border-radius: 999px;
      padding: 4px 8px;
      border: 1px solid rgba(56, 189, 248, 0.7);
    }

    .card-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 2px;
      max-width: 78%;
    }

    .card-location {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .card-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 8px;
    }

    .card-tag {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      border-radius: 999px;
      padding: 3px 8px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: var(--muted);
    }

    .card-desc {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 10px;
      line-height: 1.5;
    }

    .card-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
      font-size: 11px;
    }

    .card-call {
      padding: 5px 10px;
      border-radius: 999px;
      border: none;
      background: rgba(8, 47, 73, 0.96);
      color: #e0f2fe;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: background var(--transition), transform var(--transition), opacity var(--transition);
    }

    .card-call:hover {
      background: rgba(8, 47, 73, 1);
      transform: translateY(-1px) translateZ(0);
    }

    .card-call.disabled {
      opacity: 0.5;
      cursor: default;
    }

    .card-link {
      font-size: 11px;
      color: #7dd3fc;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      opacity: 0.85;
      transition: opacity var(--transition), transform var(--transition);
    }

    .card-link:hover {
      opacity: 1;
      transform: translateY(-1px) translateZ(0);
    }

    .badge-free {
      color: #bbf7d0;
      background: rgba(22, 163, 74, 0.16);
      border-color: rgba(22, 163, 74, 0.7);
    }

    .badge-teen {
      color: #f9a8d4;
      background: rgba(157, 23, 77, 0.18);
      border-color: rgba(249, 168, 212, 0.7);
    }

    .badge-urgent {
      color: #fecaca;
      background: rgba(239, 68, 68, 0.2);
      border-color: rgba(239, 68, 68, 0.7);
    }

    /* ABOUT & DISCLAIMER */
    .disclaimer {
      font-size: 11px;
      color: var(--muted);
      margin-top: 10px;
      max-width: 720px;
      line-height: 1.6;
    }

    .about-body {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.7;
      margin-top: 10px;
      max-width: 780px;
    }

    .pill-row-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    /* FOOTER */
    .footer {
      margin-top: 40px;
      padding-top: 18px;
      border-top: 1px solid rgba(30, 64, 175, 0.7);
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 12px;
      font-size: 11px;
      color: var(--muted);
    }

    .footer strong {
      color: #e5e7eb;
      font-weight: 500;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .footer a {
      opacity: 0.9;
    }

    .footer a:hover {
      opacity: 1;
    }

    /* RESPONSIVE */
    @media (max-width: 900px) {
      .hero {
        grid-template-columns: minmax(0, 1fr);
      }
      .hero-right {
        order: -1;
      }
      .hero-left {
        padding-right: 0;
      }
      .steps-strip {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .nav-inner {
        padding-inline: 8px;
      }
      .hero {
        margin-top: 18px;
      }
      .hero-card {
        padding: 16px 14px 13px;
      }
      .filter-bar {
        flex-direction: column;
        align-items: stretch;
      }
      .steps-strip {
        grid-template-columns: minmax(0, 1fr);
      }
      .grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .nav-pill {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <header class="nav">
    <div class="nav-inner">
      <div class="logo">
        <div class="logo-badge">M</div>
        <div>
          <div class="logo-text-main">MedLink TX</div>
          <div class="logo-text-sub">Free & Low-Cost Care</div>
        </div>
      </div>
      <div class="nav-links">
        <div class="nav-pill">
          <span>Student-built resource</span>
        </div>
        <button class="nav-cta" onclick="scrollToResources()">Find support</button>
      </div>
    </div>
  </header>

  <main class="page">
    <!-- HERO -->
    <section class="hero">
      <div class="hero-left reveal">
        <div class="hero-badge">
          <div class="hero-dot"></div>
          <div class="hero-badge-text">Free & low-cost care options in North Texas</div>
        </div>
        <h1 class="hero-title">
          One place to find
          <span class="highlight">clinics, counseling,</span>
          and crisis support.
        </h1>
        <p class="hero-sub">
          MedLink TX is a student-built directory that helps people in our community
          quickly find free or low-cost medical care, mental health counseling,
          and 24/7 crisis hotlines in Collin County and beyond.
        </p>
        <div class="hero-actions">
          <button class="btn-primary" onclick="scrollToResources()">
            Browse resources
            <span>‚Üì</span>
          </button>
          <button class="btn-secondary" onclick="scrollToAbout()">
            How this project works
          </button>
        </div>
        <p class="hero-meta">
          Not an emergency service. If you or someone you know is in immediate danger,
          call 911 right away.
        </p>
      </div>

      <div class="hero-right reveal">
        <div class="hero-card">
          <div class="hero-card-tag">Snapshot ¬∑ Allen / Collin County</div>
          <div class="hero-card-title">Support in a couple of clicks.</div>
          <div class="hero-card-sub">
            Filter by type of support and quickly see location, who it serves, and how to reach out.
          </div>
          <div class="hero-pill-row">
            <span class="pill pill-accent">Free & sliding-scale clinics</span>
            <span class="pill">Teen counseling options</span>
            <span class="pill">Faith-based care</span>
            <span class="pill">24/7 hotlines</span>
          </div>
          <div class="hero-stats">
            <div class="stat">
              <div class="stat-label">Resources listed</div>
              <div class="stat-value" id="stat-total">‚Äì</div>
            </div>
            <div class="stat">
              <div class="stat-label">Focus area</div>
              <div class="stat-value">Allen & Collin Co.</div>
            </div>
            <div class="stat">
              <div class="stat-label">Project owner</div>
              <div class="stat-value">High school student</div>
            </div>
          </div>
        </div>
        <div class="glow-orb"></div>
      </div>
    </section>

    <!-- HOW IT WORKS / LONGER FLOW -->
    <section class="section">
      <div class="section-header reveal">
        <div>
          <div class="section-title">How MedLink TX is meant to be used</div>
          <div class="section-sub">
            This page is a simple starting point. It does not list every resource,
            but it highlights trusted options for medical care, counseling, and crisis help.
          </div>
        </div>
      </div>
      <div class="steps-strip">
        <article class="step-card reveal">
          <div class="step-label">Step 1</div>
          <div class="step-title">Choose the kind of help you need</div>
          <div class="step-body">
            Use the category buttons below (clinic, counseling, hotline) and the search box
            to narrow things down by city, topic, or type of support.
          </div>
        </article>
        <article class="step-card reveal">
          <div class="step-label">Step 2</div>
          <div class="step-title">Read the quick overview</div>
          <div class="step-body">
            Each card gives a short description, notes if it is free or teen-friendly,
            and links out to official websites so you can confirm details like hours and eligibility.
          </div>
        </article>
        <article class="step-card reveal">
          <div class="step-label">Step 3</div>
          <div class="step-title">Reach out directly</div>
          <div class="step-body">
            When you are ready, use the call button or website link on the card.
            If you are ever unsure or feel unsafe, skip the list and contact a 24/7 hotline right away.
          </div>
        </article>
      </div>
    </section>

    <!-- FILTERS + GRID -->
    <section id="resources-section" class="section">
      <div class="section-header reveal">
        <div>
          <div class="section-title">Browse clinics & mental health resources</div>
          <div class="section-sub">
            Start with the category that fits you best. You can also search by city
            or keyword like ‚Äúyouth‚Äù, ‚Äúfaith-based‚Äù, or ‚Äúcrisis‚Äù.
          </div>
        </div>
      </div>

      <div class="filter-bar reveal">
        <div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
          <span class="filter-label">Category:</span>
          <div class="filter-buttons">
            <button class="filter-button active" data-category="all">All</button>
            <button class="filter-button" data-category="clinic">Free clinics</button>
            <button class="filter-button" data-category="counseling">Counseling</button>
            <button class="filter-button" data-category="hotline">Hotlines</button>
          </div>
        </div>

        <div class="search-input">
          <span>üîç</span>
          <input type="text" id="searchInput" placeholder="Search city, name, or keyword‚Ä¶" />
        </div>
      </div>

      <div id="resourceGrid" class="grid"></div>
    </section>

    <!-- ABOUT -->
    <section id="about-section" class="section">
      <div class="section-header reveal">
        <div>
          <div class="section-title">About this project</div>
          <div class="section-sub">
            MedLink TX started as a high school passion project to make it less confusing
            to find help when cost, transportation, or insurance feel like barriers.
          </div>
        </div>
      </div>
      <p class="about-body reveal">
        The goal is to collect a short, accurate list of starting points for families in Allen
        and the wider Collin County area. Every listing here links back to an official site
        or organization so you can double-check details like hours, fees, and who they serve.
        This page will grow over time as more community partners and student volunteers
        help keep the information up to date.
      </p>
      <div class="pill-row-inline reveal">
        <span class="pill pill-accent">Student-led</span>
        <span class="pill">North Texas focused</span>
        <span class="pill">Medical & mental health</span>
        <span class="pill">Made for teens & families</span>
      </div>
      <p class="disclaimer reveal">
        <strong>Disclaimer:</strong> This website is for general information only and is not a substitute
        for professional medical or mental health advice, diagnosis, or treatment. Information may change,
        so please confirm details with each organization directly. If you are in crisis or think you might
        hurt yourself or others, call 911 or a 24/7 crisis line right away.
      </p>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
      <div>
        <strong>MedLink TX</strong> ¬∑ Student-built health resource directory.
        <br />
        Last updated: <span id="lastUpdated">2025</span>
      </div>
      <div class="footer-links">
        <a href="#resources-section">Resources</a>
        <a href="#about-section">About</a>
        <a href="mailto:youremail@example.com">Contact</a>
      </div>
    </footer>
  </main>

  <script>
    // ----- DATA (6 sources) -----
    const resources = [
      {
        name: "Community Health Clinic ‚Äì McKinney",
        type: "clinic",
        city: "McKinney",
        region: "Collin County",
        description:
          "Primary care clinic for eligible uninsured Collin County residents, offering medical visits and help with medications.",
        phone: "(972) 547-0606",
        url: "https://www.ccdallas.org/community-health-clinic/",
        tags: ["medical", "primary care", "uninsured"],
        free: true,
        teenFriendly: true,
        urgent: false
      },
      {
        name: "IAA Free Medical Clinic ‚Äì Allen",
        type: "clinic",
        city: "Allen",
        region: "Collin County",
        description:
          "Faith-based clinic at the Islamic Association of Allen providing basic medical care for adults without insurance on select Saturdays.",
        phone: "",
        url: "https://allenmasjid.com/medical-clinic/",
        tags: ["faith-based", "adults", "no insurance"],
        free: true,
        teenFriendly: false,
        urgent: false
      },
      {
        name: "Community Counseling Associates ‚Äì Allen",
        type: "counseling",
        city: "Allen",
        region: "Collin County",
        description:
          "Counseling practice offering individual, family, child, and teen therapy with daytime, evening, and weekend appointments.",
        phone: "(214) 509-6888",
        url: "https://www.communitycounselingassociates.com/",
        tags: ["therapy", "teens", "families"],
        free: false,
        teenFriendly: true,
        urgent: false
      },
      {
        name: "Harold G. Murphy Counseling Center",
        type: "counseling",
        city: "McKinney",
        region: "Collin County",
        description:
          "No-cost counseling services for families with children and teens who need help working through conflict or difficult situations.",
        phone: "469-302-6318",
        url: "https://www.allenpolice.org/services/mental_health_resources.php",
        tags: ["youth", "families", "no-cost"],
        free: true,
        teenFriendly: true,
        urgent: false
      },
      {
        name: "988 Suicide & Crisis Lifeline",
        type: "hotline",
        city: "Nationwide",
        region: "United States",
        description:
          "Call or text 988 anytime to reach trained counselors for suicidal thoughts, emotional distress, or concern for someone else.",
        phone: "988",
        url: "https://988lifeline.org/",
        tags: ["24/7", "phone", "text"],
        free: true,
        teenFriendly: true,
        urgent: true
      },
      {
        name: "Crisis Text Line",
        type: "hotline",
        city: "Nationwide",
        region: "United States",
        description:
          "Text HOME to 741741 from anywhere in the U.S. to connect 24/7 with a trained crisis counselor by text message.",
        phone: "Text HOME to 741741",
        url: "https://www.crisistextline.org/",
        tags: ["24/7", "text", "anxiety", "depression"],
        free: true,
        teenFriendly: true,
        urgent: true
      }
    ];

    // ----- DOM REFERENCES -----
    const grid = document.getElementById("resourceGrid");
    const searchInput = document.getElementById("searchInput");
    const filterButtons = document.querySelectorAll(".filter-button");
    const statTotal = document.getElementById("stat-total");
    const lastUpdated = document.getElementById("lastUpdated");

    // ----- REVEAL ANIMATION -----
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.16 }
    );

    document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));

    // ----- RENDERING -----
    function renderResources(activeCategory = "all", searchTerm = "") {
      grid.innerHTML = "";

      const normalizedSearch = searchTerm.trim().toLowerCase();

      const filtered = resources.filter((item) => {
        const matchesCategory = activeCategory === "all" || item.type === activeCategory;
        const combined =
          (item.name +
            " " +
            item.city +
            " " +
            item.region +
            " " +
            item.description +
            " " +
            item.tags.join(" "))
            .toLowerCase();
        const matchesSearch = !normalizedSearch || combined.includes(normalizedSearch);
        return matchesCategory && matchesSearch;
      });

      if (filtered.length === 0) {
        const empty = document.createElement("article");
        empty.className = "card reveal";
        empty.innerHTML = `
          <h3 class="card-title">No matches yet</h3>
          <p class="card-desc" style="margin-top:4px;">
            Try searching by a different city, keyword, or category. You can also contact a
            24/7 hotline above if you need immediate support.
          </p>
        `;
        grid.appendChild(empty);
        observer.observe(empty);
        return;
      }

      filtered.forEach((item, index) => {
        const card = document.createElement("article");
        card.className = "card reveal";
        card.style.transitionDelay = index * 40 + "ms";

        const typeLabel =
          item.type === "clinic"
            ? "Free / Low-Cost Clinic"
            : item.type === "counseling"
            ? "Counseling & Therapy"
            : "24/7 Hotline";

        const phoneLabel = item.phone || "See website for contact info";
        const hasDialablePhone = !!item.phone && !phoneLabel.toLowerCase().includes("text home");

        card.innerHTML = `
          <div class="card-type-pill">${typeLabel}</div>
          <h3 class="card-title">${item.name}</h3>
          <div class="card-location">${item.city} ¬∑ ${item.region}</div>
          <div class="card-tags">
            ${item.free ? `<span class="card-tag badge-free">Free or sliding-scale</span>` : ""}
            ${item.teenFriendly ? `<span class="card-tag badge-teen">Teen-friendly</span>` : ""}
            ${item.urgent ? `<span class="card-tag badge-urgent">Crisis / 24/7</span>` : ""}
            ${item.tags.map((tag) => `<span class="card-tag">${tag}</span>`).join("")}
          </div>
          <p class="card-desc">${item.description}</p>
          <div class="card-actions">
            <button class="card-call ${item.phone ? "" : "disabled"}" ${
          item.phone ? `onclick="handleCallClick('${phoneLabel.replace(/'/g, "\\'")}')"` : ""
        }>
              üìû <span>${phoneLabel}</span>
            </button>
            <a class="card-link" href="${item.url}" target="_blank" rel="noopener noreferrer">
              Visit website <span>‚Üó</span>
            </a>
          </div>
        `;

        grid.appendChild(card);
        observer.observe(card);
      });
    }

    function handleCallClick(phone) {
      if (!phone) return;

      const lower = phone.toLowerCase();
      if (lower.includes("text home")) {
        alert("Open your messaging app and text HOME to 741741 to reach Crisis Text Line.");
        return;
      }
      if (phone === "988") {
        alert("Dial 988 from your phone to reach the Suicide & Crisis Lifeline.");
        return;
      }
      window.location.href = `tel:${phone.replace(/[^0-9+]/g, "")}`;
    }

    function scrollToResources() {
      document.getElementById("resources-section").scrollIntoView({ behavior: "smooth" });
    }

    function scrollToAbout() {
      document.getElementById("about-section").scrollIntoView({ behavior: "smooth" });
    }

    // Filter button logic
    let currentCategory = "all";

    filterButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        filterButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        currentCategory = btn.getAttribute("data-category");
        renderResources(currentCategory, searchInput.value);
      });
    });

    // Search logic
    searchInput.addEventListener("input", () => {
      renderResources(currentCategory, searchInput.value);
    });

    // Stats + last updated
    statTotal.textContent = resources.length.toString();
    const now = new Date();
    lastUpdated.textContent = now.getFullYear().toString();

    // Initial render
    renderResources();
  </script>
</body>
</html>
